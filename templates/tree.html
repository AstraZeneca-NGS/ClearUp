{% extends "_base.html" %}

{% block head %}
        <!--suppress ALL -->
        <title>{{ title }}</title>

        <style>
            #tree_svg {
                margin-left: -110px;
            }

            .link {
                fill: none;
                stroke: #555;
                stroke-opacity: 0.4;
                stroke-width: 1.5px;
            }

            .node text {
              font: 10px sans-serif;
            }
            .node text.seq {
                font: 10px "Lucida Console", Monaco, monospace;
            }

            .node a {
{#              fill: #3b84ae;#}
              text-decoration: underline;
            }
            .node a:visited {
{#              fill: darkpurple;#}
              text-decoration: underline;
            }
            .node a:hover, a:active {
              fill:darkred;
              text-decoration: underline;
            }

            .c_nuc { fill: #007a00; }
            .a_nuc { fill: #002aba; }
            .t_nuc { fill: #970035; }
            .g_nuc { fill: #eecf00; }
            .n_nuc { fill: #b2b2b2; }
        </style>
{% endblock %}

{% block body %}
        <p style="font-size: 1.5em;">
            <a href="/" style="margin-left: -1.1em;">
            < AZ projects with pre-computed fingerprints</a>
            <br><br>
            <span style="font-weight: bold;">Phylogeny tree based on fingerprints</span>
        </p>

        <ul style="margin-left: -23px;">
        <span style="margin-left: -16px;">Samples from the following projects are used:</span>
        {% for project in projects %}
            <li style="color: {{ project.color }}">{{ project.name }}</li>
        {% endfor %}
        </ul>
        <br>

        <svg id="tree_svg" width="{{ width }}" height="{{ height }}"></svg>
        <div id="data_json" style="display: none;">{{ data|safe }}</div>
{% endblock %}

{% block js %}
        <script src="{{ url_for('static', filename='d3/d3.v4.js') }}"></script>
        <script src="{{ url_for('static', filename='js/tree.js') }}"></script>
        <script>
            var data = JSON.parse($('#data_json').text());
            buildTree("svg", {{ tree_width }}, {{ tree_height }}, data);
        </script>
{% endblock %}
